# DNS Hijacking & Stopping Ways

使用虚拟专用网络 （VPN） 和仅访问使用 HTTPS 加密的站点是保护自己的两种方法。但是，您可能仍然容易受到其他攻击。**从您的计算机发送的 DNS 请求可能会被劫持**并用于许多恶意活动。

## What is DNS

域名系统（DNS）是将**网站链接到其IP地址的目录系统**。每当您在浏览器中键入站点的名称时，浏览器都会将该名称（通用资源定位器 （URL））发送到 DNS。这称为 DNS 请求。

作为请求的响应，您的浏览器会收到**网站的IP地址 - 其在互联网上的确切数字位置**。一旦您的设备拥有IP地址，您就可以访问该网站并与之通信。

## DNS Hijacking

DNS 劫持是一种**攻击类型，它使用截获的 DNS 查询将用户重定向到恶意站点**或弹出窗口。网络犯罪分子并不是唯一利用DNS的人。互联网服务提供商（ISP）还会劫持您的DNS以重定向您的流量以满足其目标。

不久前，DNS劫持被认为是过去的事情。然而，这与事实大相径庭。许多公司和组织，包括[Gmail，Netflix和PayPal](https://www.forbes.com/sites/kateoflahertyuk/2019/04/07/gmail-netflix-and-paypal-users-targeted-in-dns-hijacking-campaign/#72b1d7113d3c)，都已成为DNS劫持的目标。

尽管**所有DNS劫持功能都使用相同的核心原则 - 利用DNS** - 但这些攻击的执行方式存在细微差异。我们将在下面讨论这些不同类型的攻击。

**我们在浏览器中键入的完整网站名称称为完全限定域名** **（FQDN）。**此名称可以分解为可识别的部分：即顶级域 （TLD）、子域和主机。

![域名细分](https://www.vpnmentor.com/wp-content/uploads/2019/05/domain_breakdown-2-1.png)**这些元素中的每一个都有一个相应的DNS服务器**，该服务器涉及DNS请求的处理。

首先，您的浏览器会向 DNS 解析程序（第一台服务器）询问域的位置。然后，解析程序将此查询传递给 TLD 的 DNS 服务器，然后 TLD 服务器询问属于该网站的 DNS 服务器。劫持可能发生在这个"链条"的任何地方。

如今，默认情况下，普通用户的 **DNS 设置由您的 ISP**（或 Google）设置和配置。这些公司不仅可以利用这些设置来收集数据，还可以将您定向到对他们有利的网站和内容。

更恶意的DNS劫持形式涉及破坏DNS服务器和添加虚假的IP地址，以便将用户重定向到不正确的位置。由于 **DNS 请求是一个经常被忽视的过程，因此这些攻击可能难以检测**或预防。

此外，由于DNS请求的工作方式 - 所涉及的每个服务器都要求"链中更远"的一个服务器提供帮助以解析地址 - 彻底**的DNS劫持可以迅速蔓延，影响大量用户和服务器**。

## DNS 劫持攻击的类型

一般来说，**您必须保护自己免受五种类型的DNS劫持攻击**：

### **1. "中间人攻击"**

经典攻击与DNS劫持同义。**攻击者只是拦截用户的 DNS 请求，并将其重定向到**他/她自己的恶意 DNS 服务器。然后，此服务器使用特洛伊木马程序返回不正确的IP地址 - 将您发送到"欺骗"网站。

"欺骗"网站被创建为看起来与您希望访问的特定网站非常相似，以欺骗您。**您在这些网站输入的任何信息都将被盗**。

此后续漏洞称为"网络钓鱼"，可在**任何类型的 DNS 劫持后执行**。

另一种称为"域欺骗"的攻击可以使用中间人攻击或以下任何其他劫持方法发起。此后续攻击**会显示不需要的广告和弹出窗口，旨在重定向您，**以产生广告收入。

DNS请求过程的链状构成为任何希望执行中间人攻击**的网络犯罪分子提供了许多潜在的入口点**。

默认情况下，当响应到达您的设备时，**无法验证 DNS 请求是否未被篡改**。

### **2.恶意软件攻击**

这是**当今最常见的攻击类型。攻击者**使用恶意软件特洛伊木马感染您的设备（即手机、平板电脑、计算机、路由器）。这些特洛伊木马会更改受感染设备的 DNS 设置，并将您重定向到恶意 DNS 服务器。

这种类型的攻击被认为是本地攻击，因为它是在您的设备上发起的，而不是中间人攻击，中间人攻击会在局域网（LAN）外部发生的过程中破坏请求。

### **3. 缓存中毒**

这是攻击者将您重定向到"欺骗"站点的另一种方法，而不会直接劫持您的DNS请求。**虚假的 DNS 条目会插入到本地 DNS 解析程序的缓存（内存）中**，将您重定向到危险的模仿站点，而不是请求的实际站点。

由于 DNS 解析程序管理网络上所有设备的请求，**因此精心策划的缓存中毒攻击可能会危及整个 LAN** 及其使用者。仅一个用户单击电子邮件或弹出窗口中的恶意链接就可能导致许多问题。

### **4. 流氓 DNS 服务器**

当 **DNS 服务器成为攻击目标并被黑客入侵**，并且其记录已更改以将传入请求重定向到网络钓鱼站点时，就会发生这种类型的攻击。

### **5. 使用路由器的DNS劫持漏洞**

这种形式的攻击涉及某人直接访问您的路由器，然后更改其DNS设置，将您的流量重新路由到受感染的DNS服务器。然后，这些服务器可以将 **LAN 上的任何流量重定向到危险的网络钓鱼站点**。

虽然这种类型的攻击可能看起来类似于感染路由器的恶意软件攻击，但这些**攻击是直接在路由器上发起的**。恶意软件攻击往往会通过首先感染您的设备来间接损害您的路由器。

## 如何阻止DNS劫持并保持安全

幸运的是，对于我们所有人来说，用于防止DNS劫持的工具和方法与用于防御许多其他常见类型的漏洞和攻击的工具和方法非常相似。

作为**针对 DNS 劫持的基准防御，我们建议您执行以下操作**：

1. 使用最新的安全软件，尤其是包括**恶意软件防护在内的**软件。
2. **避免点击**电子邮件或社交媒体中的可疑链接。
3. 保护您的路由器：
   - **更改路由器的默认管理员和密码**。这些凭据与您的 Wi-Fi 访问密码不同。这是用于登录路由器并进行更改（例如对 DNS 设置的更改）的用户名和密码。这很重要，因为只有少数默认的管理员用户名在流通，并且密码通常写在路由器本身上。此外，登录访问屏幕通常可以通过已知的IP地址（如192.168.0.1或192.168.1.1）访问。
   - **更新路由器的固件**以防止最新的安全漏洞。
4. **请勿使用公共 Wi-Fi 网络发送或接收个人信息**或登录需要凭据的站点。我们还建议您在未事先提供服务条款 （ToS） 页面的情况下，切勿使用允许使用的网络。
5. 始终**检查网站的 URL**，确保它与您要访问的网站完全相同。如果地址的任何部分看起来不熟悉，请立即关闭浏览器并检查DNS设置是否存在漏洞或泄漏。网络钓鱼站点通常没有有效的 SSL（安全套接字层）证书。检查以确保您正在使用的站点具有**有效的 SSL 证书，该证书由**浏览器地址栏中的锁定图标指示。切勿在没有有效SSL证书的网站上的Web表单中输入私人数据（即信用卡详细信息，个人信息）。

尽管上述步骤将有助于保护您免受DNS劫持，但这些攻击是多种多样的，**并且新的漏洞继续被利用**。

此外，虽然您可以对经常使用的页面和平台上的异常弹出窗口和消息保持警惕，但您无法防止DNS服务器受到损害。

出于这些原因，**防止DNS劫持的最安全，最简单的方法是使用**来自高级提供商的VPN。VPN最初是人们获得对LAN的安全远程访问的一种方式。然而，今天，它们的用途和优点远远超出了这一点。

由于VPN会创建一个加密隧道，通过该隧道来轮渡您的所有流量，因此它会**绕过路由器的设置**，并使用VPN的DNS解析器执行DNS请求。

[**像ExpressVPN这样的顶级VPN提供先进的DNS保护，**](https://www.vpnmentor.com/reviews/expressvpn/)以确保您的所有DNS请求都通过自己的DNS服务器路由。这些VPN还会阻止流量流向您的ISP，政府监控或网络犯罪分子提供的DNS服务器。

然而**，并非所有VPN都是平等的**。一些VPN只是提供浏览器扩展，而另一些VPN则提供更安全的"隧道"协议，如IPsec，以确保没有DNS请求被劫持，并且您的所有流量都通过安全隧道发送。

使用免费VPN时要小心，因为许多**[免费VPN会记录你的习惯](https://www.vpnmentor.com/blog/free-vpns-are-not-safe-to-use/)**，跟踪你的在线活动，并用广告轰炸你。

实际上值得付费的VPN选择非常少。我们建议您使用**[我们推荐的顶级VPN](https://www.vpnmentor.com/)**之一来正确保护自己免受DNS劫持和许多其他攻击。

## 保护自己的最简单和最好的方法

DNS劫持是**网络犯罪分子经常忽视的利用，用于将您重定向到危险的"欺骗"站点**。DNS请求在很大程度上被忽视了，如果它们受到损害，可能造成的潜在危害也是如此。

DNS劫持不仅限于犯罪分子。**ISP还将运行修改后的DNS服务器来重定向您的流量，以达到他们自己的利益**。通常，他们会这样做以收集统计信息，甚至可能在您访问未知域时向您发送广告。

许多**政府还将使用DNS劫持进行监视和审查**，将用户从被禁止的网站重定向到政府授权的网站。

如果上述任何一项让您感到担忧，那么现在是您获得针对DNS劫持**的适当保护的更好时机**。

好消息是，**保护自己的最佳方式也是最简单的：高级VPN**将防止DNS劫持，并保护您免受其他严重和新出现的威胁。
